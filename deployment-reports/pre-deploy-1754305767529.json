{
  "timestamp": "2025-08-04T11:09:27.529Z",
  "duration": "25.44s",
  "success": true,
  "results": {
    "build": {
      "success": true,
      "output": "\n> rest-express@1.0.0 build\n> vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist\n\nvite v5.4.19 building for production...\ntransforming...\n✓ 3445 modules transformed.\nrendering chunks...\ncomputing gzip size...\n../dist/public/index.html                             1.76 kB │ gzip:   0.75 kB\n../dist/public/assets/index-DkNeLyHx.css             97.15 kB │ gzip:  15.97 kB\n../dist/public/assets/test-auth-flow-LuQKavec.js      3.70 kB │ gzip:   1.60 kB\n../dist/public/assets/index-Ci750Ga-.js           1,304.43 kB │ gzip: 347.43 kB\n✓ built in 14.57s\n"
    },
    "lint": null,
    "typeCheck": {
      "success": false,
      "error": "Command failed: npm run check",
      "output": "\n> rest-express@1.0.0 check\n> tsc\n\nclient/src/components/contract-manager.tsx(176,14): error TS18046: 'contracts' is of type 'unknown'.\nclient/src/components/contract-manager.tsx(196,15): error TS18046: 'contracts' is of type 'unknown'.\nclient/src/components/contract-manager.tsx(216,16): error TS18046: 'contracts' is of type 'unknown'.\nclient/src/pages/admin-coupons.tsx(187,27): error TS18047: 'coupon.usedCount' is possibly 'null'.\nclient/src/pages/admin-reports.tsx(84,69): error TS2339: Property 'totalUsers' does not exist on type '{}'.\nclient/src/pages/admin-reports.tsx(98,69): error TS2339: Property 'totalVehicles' does not exist on type '{}'.\nclient/src/pages/admin-reports.tsx(113,38): error TS2339: Property 'totalRevenue' does not exist on type '{}'.\nclient/src/pages/admin-reports.tsx(128,69): error TS2339: Property 'activeBookings' does not exist on type '{}'.\nclient/src/pages/admin-reports.tsx(142,69): error TS2339: Property 'conversionRate' does not exist on type '{}'.\nclient/src/pages/admin-reports.tsx(156,69): error TS2339: Property 'avgRating' does not exist on type '{}'.\nclient/src/pages/contracts.tsx(70,100): error TS2554: Expected 2-3 arguments, but got 4.\nclient/src/pages/earnings.tsx(109,20): error TS2339: Property 'pixKey' does not exist on type 'AuthUser'.\nclient/src/pages/saved-vehicles.tsx(55,16): error TS2304: Cannot find name 'getToken'.\nclient/src/pages/saved-vehicles.tsx(58,21): error TS2304: Cannot find name 'getToken'.\nclient/src/utils/pwa.ts(147,9): error TS2353: Object literal may only specify known properties, and 'vibrate' does not exist in type 'NotificationOptions'.\nserver/index.ts(3,18): error TS7016: Could not find a declaration file for module 'cors'. '/home/runner/workspace/node_modules/cors/lib/index.js' implicitly has an 'any' type.\n  Try `npm i --save-dev @types/cors` if it exists or add a new declaration (.d.ts) file containing `declare module 'cors';`\nserver/index.ts(23,21): error TS7006: Parameter 'origin' implicitly has an 'any' type.\nserver/index.ts(23,29): error TS7006: Parameter 'callback' implicitly has an 'any' type.\nserver/middleware/auth.ts(24,54): error TS2304: Cannot find name 'JwtPayload'.\nserver/services/contractService.ts(69,29): error TS2551: Property 'servicefee' does not exist on type 'BookingWithDetails'. Did you mean 'serviceFee'?\nserver/services/contractService.ts(109,7): error TS2322: Type '{ vehicle: { id: number; brand: string; model: string; year: number; color: string | null; transmission: string | null; fuel: string | null; seats: number | null; category: string; features: string[] | null; location: string; pricePerDay: string; }; renter: { ...; }; owner: { ...; }; booking: { ...; }; terms: { ...;...' is not assignable to type '{ [x: string]: [any, ...any[]]; }'.\n  Property 'vehicle' is incompatible with index signature.\n    Type '{ id: number; brand: string; model: string; year: number; color: string | null; transmission: string | null; fuel: string | null; seats: number | null; category: string; features: string[] | null; location: string; pricePerDay: string; }' is not assignable to type '[any, ...any[]]'.\nserver/services/contractService.ts(133,31): error TS2551: Property 'template' does not exist on type 'ContractWithDetails'. Did you mean 'templateId'?\nserver/services/contractService.ts(145,67): error TS2345: Argument of type 'number | null' is not assignable to parameter of type 'number | undefined'.\n  Type 'null' is not assignable to type 'number | undefined'.\nserver/services/pdfService.ts(51,74): error TS2769: No overload matches this call.\n  Overload 1 of 4, '(value: string | number | Date): Date', gave the following error.\n    Argument of type 'Date | null' is not assignable to parameter of type 'string | number | Date'.\n      Type 'null' is not assignable to type 'string | number | Date'.\n  Overload 2 of 4, '(value: string | number): Date', gave the following error.\n    Argument of type 'Date | null' is not assignable to parameter of type 'string | number'.\n      Type 'null' is not assignable to type 'string | number'.\nserver/services/vehicleReleaseService.ts(40,25): error TS2551: Property 'removeVehicleAvailability' does not exist on type 'DatabaseStorage'. Did you mean 'getVehicleAvailability'?\nserver/services/vehicleReleaseService.ts(44,46): error TS2551: Property 'getVehicleWaitingQueue' does not exist on type 'DatabaseStorage'. Did you mean 'getWaitingQueue'?\nserver/storage.ts(229,9): error TS2393: Duplicate function implementation.\nserver/storage.ts(418,7): error TS2322: Type '{ id: any; ownerId: any; brand: any; model: any; year: any; color: any; transmission: any; fuel: any; seats: any; category: any; features: any; images: any; location: any; latitude: any; longitude: any; pricePerDay: any; ... 11 more ...; owner: { ...; }; }[]' is not assignable to type 'VehicleWithOwner[]'.\n  Type '{ id: any; ownerId: any; brand: any; model: any; year: any; color: any; transmission: any; fuel: any; seats: any; category: any; features: any; images: any; location: any; latitude: any; longitude: any; pricePerDay: any; ... 11 more ...; owner: { ...; }; }' is not assignable to type 'VehicleWithOwner'.\n    Type '{ id: any; ownerId: any; brand: any; model: any; year: any; color: any; transmission: any; fuel: any; seats: any; category: any; features: any; images: any; location: any; latitude: any; longitude: any; pricePerDay: any; ... 11 more ...; owner: { ...; }; }' is missing the following properties from type '{ id: number; color: string | null; status: string; location: string; description: string | null; category: string; features: string[] | null; transmission: string | null; fuel: string | null; ... 26 more ...; highlightUsageCount: number; }': status, crlvDocument, reviewedAt, reviewedBy, and 5 more.\nserver/storage.ts(538,9): error TS2561: Object literal may only specify known properties, but 'owner' does not exist in type '{ id: number; color: string | null; status: string; location: string; description: string | null; category: string; features: string[] | null; transmission: string | null; fuel: string | null; ... 26 more ...; highlightUsageCount: number; }'. Did you mean to write 'ownerId'?\nserver/storage.ts(768,36): error TS2339: Property 'bookingId' does not exist on type 'PgTableWithColumns<{ name: \"vehicle_availability\"; schema: undefined; columns: { id: PgColumn<{ name: \"id\"; tableName: \"vehicle_availability\"; dataType: \"number\"; columnType: \"PgSerial\"; data: number; driverParam: number; ... 8 more ...; generated: undefined; }, {}, {}>; ... 5 more ...; createdAt: PgColumn<...>; }; ...'.\nserver/storage.ts(901,9): error TS2393: Duplicate function implementation.\nserver/storage.ts(945,9): error TS2393: Duplicate function implementation.\nserver/storage.ts(1040,39): error TS2339: Property 'version' does not exist on type 'PgTableWithColumns<{ name: \"contract_templates\"; schema: undefined; columns: { id: PgColumn<{ name: \"id\"; tableName: \"contract_templates\"; dataType: \"number\"; columnType: \"PgSerial\"; data: number; driverParam: number; ... 8 more ...; generated: undefined; }, {}, {}>; ... 8 more ...; updatedAt: PgColumn<...>; }; dial...'.\nserver/storage.ts(1156,9): error TS2353: Object literal may only specify known properties, and 'version' does not exist in type '{ name: string; category: string; htmlTemplate: string; signaturePoints: { renter: { x: number; y: number; page: number; }; owner: { x: number; y: number; page: number; }; }; description?: string | null | undefined; isActive?: boolean | ... 1 more ... | undefined; fields?: { ...; } | ... 1 more ... | undefined; }'.\nserver/storage.ts(1168,8): error TS2769: No overload matches this call.\n  Overload 1 of 2, '(value: { name: string | SQL<unknown> | Placeholder<string, any>; category: string | SQL<unknown> | Placeholder<string, any>; htmlTemplate: string | SQL<unknown> | Placeholder<...>; ... 6 more ...; fields?: SQL<...> | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.\n    Argument of type '{ name: string; category: string; htmlTemplate: string; signaturePoints: { renter: { x: number; y: number; page: number; }; owner: { x: number; y: number; page: number; }; }; description?: string | null | undefined; isActive?: boolean | ... 1 more ... | undefined; fields?: { ...; } | ... 1 more ... | undefined; }[]' is not assignable to parameter of type '{ name: string | SQL<unknown> | Placeholder<string, any>; category: string | SQL<unknown> | Placeholder<string, any>; htmlTemplate: string | SQL<unknown> | Placeholder<...>; ... 6 more ...; fields?: SQL<...> | ... 3 more ... | undefined; }'.\n      Type '{ name: string; category: string; htmlTemplate: string; signaturePoints: { renter: { x: number; y: number; page: number; }; owner: { x: number; y: number; page: number; }; }; description?: string | null | undefined; isActive?: boolean | ... 1 more ... | undefined; fields?: { ...; } | ... 1 more ... | undefined; }[]' is missing the following properties from type '{ name: string | SQL<unknown> | Placeholder<string, any>; category: string | SQL<unknown> | Placeholder<string, any>; htmlTemplate: string | SQL<unknown> | Placeholder<...>; ... 6 more ...; fields?: SQL<...> | ... 3 more ... | undefined; }': name, category, htmlTemplate, signaturePoints\n  Overload 2 of 2, '(values: { name: string | SQL<unknown> | Placeholder<string, any>; category: string | SQL<unknown> | Placeholder<string, any>; htmlTemplate: string | SQL<unknown> | Placeholder<...>; ... 6 more ...; fields?: SQL<...> | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.\n    Type '{ name: string; category: string; htmlTemplate: string; signaturePoints: { renter: { x: number; y: number; page: number; }; owner: { x: number; y: number; page: number; }; }; description?: string | null | undefined; isActive?: boolean | ... 1 more ... | undefined; fields?: { ...; } | ... 1 more ... | undefined; }' is not assignable to type '{ name: string | SQL<unknown> | Placeholder<string, any>; category: string | SQL<unknown> | Placeholder<string, any>; htmlTemplate: string | SQL<unknown> | Placeholder<...>; ... 6 more ...; fields?: SQL<...> | ... 3 more ... | undefined; }'.\n      Types of property 'fields' are incompatible.\n        Type '{ [x: number]: { type: string; name: string; required: boolean; defaultValue?: unknown; }; length: number; toString: () => string; toLocaleString: { (): string; (locales: string | string[], options?: (NumberFormatOptions & DateTimeFormatOptions) | undefined): string; }; ... 37 more ...; readonly [Symbol.unscopables]...' is not assignable to type 'SQL<unknown> | { name: string; type: string; required: boolean; defaultValue?: string | undefined; }[] | Placeholder<string, any> | null | undefined'.\n          Type '{ [x: number]: { type: string; name: string; required: boolean; defaultValue?: unknown; }; length: number; toString: () => string; toLocaleString: { (): string; (locales: string | string[], options?: (NumberFormatOptions & DateTimeFormatOptions) | undefined): string; }; ... 37 more ...; readonly [Symbol.unscopables]...' is not assignable to type 'SQL<unknown> | { name: string; type: string; required: boolean; defaultValue?: string | undefined; }[] | Placeholder<string, any> | null | undefined'.\n            Type '{ [x: number]: { type: string; name: string; required: boolean; defaultValue?: unknown; }; length: number; toString: () => string; toLocaleString: { (): string; (locales: string | string[], options?: (NumberFormatOptions & DateTimeFormatOptions) | undefined): string; }; ... 37 more ...; readonly [Symbol.unscopables]...' is not assignable to type '{ name: string; type: string; required: boolean; defaultValue?: string | undefined; }[]'.\n              The types returned by 'pop()' are incompatible between these types.\n                Type 'unknown' is not assignable to type '{ name: string; type: string; required: boolean; defaultValue?: string | undefined; } | undefined'.\nserver/storage.ts(1398,9): error TS2393: Duplicate function implementation.\nserver/storage.ts(1493,24): error TS18047: 'currentRewards.totalPoints' is possibly 'null'.\nserver/storage.ts(1495,11): error TS18047: 'currentRewards.availablePoints' is possibly 'null'.\nserver/storage.ts(1496,11): error TS18047: 'currentRewards.availablePoints' is possibly 'null'.\nserver/storage.ts(1498,11): error TS18047: 'currentRewards.usedPoints' is possibly 'null'.\nserver/storage.ts(1543,7): error TS2322: Type 'number | null' is not assignable to type 'number'.\n  Type 'null' is not assignable to type 'number'.\nserver/storage.ts(1560,24): error TS18047: 'rewards.referralCount' is possibly 'null'.\nserver/storage.ts(1561,30): error TS18047: 'rewards.successfulReferrals' is possibly 'null'.\nserver/storage.ts(1570,15): error TS2769: No overload matches this call.\n  Overload 1 of 2, '(value: { userId: number | SQL<unknown> | Placeholder<string, any>; activityType: string | SQL<unknown> | Placeholder<string, any>; id?: number | SQL<unknown> | Placeholder<...> | undefined; ... 6 more ...; userAgent?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.\n    Argument of type '{ userId: number; activityType: string; filters?: { location?: unknown; category?: unknown; priceMin?: unknown; priceMax?: unknown; features?: unknown; } | null | undefined; vehicleId?: number | null | undefined; searchQuery?: string | null | undefined; sessionId?: string | ... 1 more ... | undefined; ipAddress?: st...' is not assignable to parameter of type '{ userId: number | SQL<unknown> | Placeholder<string, any>; activityType: string | SQL<unknown> | Placeholder<string, any>; id?: number | SQL<unknown> | Placeholder<...> | undefined; ... 6 more ...; userAgent?: string | ... 3 more ... | undefined; }'.\n      Types of property 'filters' are incompatible.\n        Type '{ location?: unknown; category?: unknown; priceMin?: unknown; priceMax?: unknown; features?: unknown; } | null | undefined' is not assignable to type 'SQL<unknown> | { category?: string | undefined; priceMin?: number | undefined; priceMax?: number | undefined; location?: string | undefined; features?: string[] | undefined; } | Placeholder<string, any> | null | undefined'.\n          Type '{ location?: unknown; category?: unknown; priceMin?: unknown; priceMax?: unknown; features?: unknown; }' is not assignable to type 'SQL<unknown> | { category?: string | undefined; priceMin?: number | undefined; priceMax?: number | undefined; location?: string | undefined; features?: string[] | undefined; } | Placeholder<string, any> | null | undefined'.\n            Type '{ location?: unknown; category?: unknown; priceMin?: unknown; priceMax?: unknown; features?: unknown; }' is not assignable to type '{ category?: string | undefined; priceMin?: number | undefined; priceMax?: number | undefined; location?: string | undefined; features?: string[] | undefined; }'.\n              Types of property 'category' are incompatible.\n                Type 'unknown' is not assignable to type 'string | undefined'.\n  Overload 2 of 2, '(values: { userId: number | SQL<unknown> | Placeholder<string, any>; activityType: string | SQL<unknown> | Placeholder<string, any>; id?: number | SQL<unknown> | Placeholder<...> | undefined; ... 6 more ...; userAgent?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.\n    Argument of type '{ userId: number; activityType: string; filters?: { location?: unknown; category?: unknown; priceMin?: unknown; priceMax?: unknown; features?: unknown; } | null | undefined; vehicleId?: number | null | undefined; searchQuery?: string | null | undefined; sessionId?: string | ... 1 more ... | undefined; ipAddress?: st...' is not assignable to parameter of type '{ userId: number | SQL<unknown> | Placeholder<string, any>; activityType: string | SQL<unknown> | Placeholder<string, any>; id?: number | SQL<unknown> | Placeholder<...> | undefined; ... 6 more ...; userAgent?: string | ... 3 more ... | undefined; }[]'.\n      Type '{ userId: number; activityType: string; filters?: { location?: unknown; category?: unknown; priceMin?: unknown; priceMax?: unknown; features?: unknown; } | null | undefined; vehicleId?: number | null | undefined; searchQuery?: string | null | undefined; sessionId?: string | ... 1 more ... | undefined; ipAddress?: st...' is missing the following properties from type '{ userId: number | SQL<unknown> | Placeholder<string, any>; activityType: string | SQL<unknown> | Placeholder<string, any>; id?: number | SQL<unknown> | Placeholder<...> | undefined; ... 6 more ...; userAgent?: string | ... 3 more ... | undefined; }[]': length, pop, push, concat, and 35 more.\nserver/storage.ts(1701,9): error TS2393: Duplicate function implementation.\nserver/storage.ts(1741,7): error TS2740: Type 'Omit<PgSelectBase<\"users\", { id: PgColumn<{ name: \"id\"; tableName: \"users\"; dataType: \"number\"; columnType: \"PgSerial\"; data: number; driverParam: number; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>; ... 31 more ...; updatedAt: PgColum...' is missing the following properties from type 'PgSelectBase<\"users\", { id: PgColumn<{ name: \"id\"; tableName: \"users\"; dataType: \"number\"; columnType: \"PgSerial\"; data: number; driverParam: number; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>; ... 31 more ...; updatedAt: PgColumn<......': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.\nserver/storage.ts(1742,7): error TS2740: Type 'Omit<PgSelectBase<\"users\", { count: SQL<number>; }, \"partial\", Record<\"users\", \"not-null\">, false, \"where\", { count: number; }[], { count: DrizzleTypeError<\"You cannot reference this field without assigning it an alias first - use `.as(<alias>)`\">; }>, \"where\">' is missing the following properties from type 'PgSelectBase<\"users\", { count: SQL<number>; }, \"partial\", Record<\"users\", \"not-null\">, false, never, { count: number; }[], { count: DrizzleTypeError<\"You cannot reference this field without assigning it an alias first - use `.as(<alias>)`\">; }>': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.\nserver/storage.ts(1770,9): error TS2393: Duplicate function implementation.\nserver/storage.ts(1819,7): error TS2740: Type 'Omit<PgSelectBase<\"bookings\", { count: SQL<number>; }, \"partial\", Record<\"bookings\", \"not-null\"> & { vehicles: \"nullable\"; } & { users: \"nullable\"; }, false, never, { count: number; }[], { ...; }>, never>' is missing the following properties from type 'PgSelectBase<\"bookings\", { count: SQL<number>; }, \"partial\", Record<\"bookings\", \"not-null\">, false, never, { count: number; }[], { count: DrizzleTypeError<\"You cannot reference this field without assigning it an alias first - use `.as(<alias>)`\">; }>': config, joinsNotNullableMap, tableName, isPartialSelect, and 4 more.\nserver/storage.ts(1834,7): error TS2741: Property 'where' is missing in type 'Omit<import(\"/home/runner/workspace/node_modules/drizzle-orm/pg-core/query-builders/select\").PgSelectBase<\"bookings\", Record<\"bookings\", { id: import(\"/home/runner/workspace/node_modules/drizzle-orm/pg-core/columns/common\").PgColumn<{ name: \"id\"; tableName: \"bookings\"; dataType: \"number\"; columnType: \"PgSerial\"; dat...' but required in type 'Omit<import(\"/home/runner/workspace/node_modules/drizzle-orm/pg-core/query-builders/select\").PgSelectBase<\"bookings\", Record<\"bookings\", { id: import(\"/home/runner/workspace/node_modules/drizzle-orm/pg-core/columns/common\").PgColumn<{ name: \"id\"; tableName: \"bookings\"; dataType: \"number\"; columnType: \"PgSerial\"; dat...'.\nserver/storage.ts(1835,7): error TS2740: Type 'Omit<PgSelectBase<\"bookings\", { count: SQL<number>; }, \"partial\", Record<\"bookings\", \"not-null\">, false, \"where\", { count: number; }[], { count: DrizzleTypeError<\"You cannot reference this field without assigning it an alias first - use `.as(<alias>)`\">; }>, \"where\">' is missing the following properties from type 'PgSelectBase<\"bookings\", { count: SQL<number>; }, \"partial\", Record<\"bookings\", \"not-null\">, false, never, { count: number; }[], { count: DrizzleTypeError<\"You cannot reference this field without assigning it an alias first - use `.as(<alias>)`\">; }>': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.\nserver/storage.ts(1843,33): error TS2352: Conversion of type '{ vehicle: { owner: { id: number; name: string; email: string; password: string; phone: string | null; role: string; avatar: string | null; isOwner: boolean | null; isRenter: boolean | null; ... 23 more ...; updatedAt: Date | null; }; ... 35 more ...; updatedAt: Date | null; } | undefined; ... 14 more ...; updatedAt...' to type 'BookingWithDetails[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.\n  Type '{ vehicle: { owner: { id: number; name: string; email: string; password: string; phone: string | null; role: string; avatar: string | null; isOwner: boolean | null; isRenter: boolean | null; ... 23 more ...; updatedAt: Date | null; }; ... 35 more ...; updatedAt: Date | null; } | undefined; ... 14 more ...; updatedAt...' is not comparable to type 'BookingWithDetails'.\n    Type '{ vehicle: { owner: { id: number; name: string; email: string; password: string; phone: string | null; role: string; avatar: string | null; isOwner: boolean | null; isRenter: boolean | null; ... 23 more ...; updatedAt: Date | null; }; ... 35 more ...; updatedAt: Date | null; } | undefined; ... 14 more ...; updatedAt...' is missing the following properties from type '{ vehicle: { id: number; color: string | null; status: string; location: string; description: string | null; category: string; features: string[] | null; transmission: string | null; fuel: string | null; ... 26 more ...; highlightUsageCount: number; }; renter: { ...; }; owner: { ...; }; }': renter, owner\nserver/storage.ts(1873,12): error TS2352: Conversion of type '{ vehicle: { owner: { id: number; name: string; email: string; password: string; phone: string | null; role: string; avatar: string | null; isOwner: boolean | null; isRenter: boolean | null; ... 23 more ...; updatedAt: Date | null; }; ... 35 more ...; updatedAt: Date | null; } | undefined; ... 14 more ...; updatedAt...' to type 'BookingWithDetails' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.\n  Type '{ vehicle: { owner: { id: number; name: string; email: string; password: string; phone: string | null; role: string; avatar: string | null; isOwner: boolean | null; isRenter: boolean | null; ... 23 more ...; updatedAt: Date | null; }; ... 35 more ...; updatedAt: Date | null; } | undefined; ... 14 more ...; updatedAt...' is missing the following properties from type '{ vehicle: { id: number; color: string | null; status: string; location: string; description: string | null; category: string; features: string[] | null; transmission: string | null; fuel: string | null; ... 26 more ...; highlightUsageCount: number; }; renter: { ...; }; owner: { ...; }; }': renter, owner\nserver/storage.ts(1920,8): error TS2769: No overload matches this call.\n  Overload 1 of 2, '(value: { bookingId: number | SQL<unknown> | Placeholder<string, any>; contractNumber: string | SQL<unknown> | Placeholder<string, any>; contractData: Record<...> | SQL<...> | Placeholder<...>; ... 22 more ...; cancellationReason?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.\n    Argument of type '{ contractNumber: string; contractData: { [x: string]: [any, ...any[]]; }; renterSigned: boolean; ownerSigned: boolean; bookingId: number; status?: string | undefined; renterSignedAt?: Date | null | undefined; ... 15 more ...; cancellationReason?: string | ... 1 more ... | undefined; }' is not assignable to parameter of type '{ bookingId: number | SQL<unknown> | Placeholder<string, any>; contractNumber: string | SQL<unknown> | Placeholder<string, any>; contractData: Record<string, any> | SQL<...> | Placeholder<...>; ... 22 more ...; cancellationReason?: string | ... 3 more ... | undefined; }'.\n      Types of property 'renterSignatureEvidence' are incompatible.\n        Type '{ userAgent: string; ip: string; timestamp: string; location?: unknown; } | null | undefined' is not assignable to type 'SQL<unknown> | { ip: string; userAgent: string; timestamp: string; location?: string | undefined; } | Placeholder<string, any> | null | undefined'.\n          Type '{ userAgent: string; ip: string; timestamp: string; location?: unknown; }' is not assignable to type 'SQL<unknown> | { ip: string; userAgent: string; timestamp: string; location?: string | undefined; } | Placeholder<string, any> | null | undefined'.\n            Type '{ userAgent: string; ip: string; timestamp: string; location?: unknown; }' is not assignable to type '{ ip: string; userAgent: string; timestamp: string; location?: string | undefined; }'.\n              Types of property 'location' are incompatible.\n                Type 'unknown' is not assignable to type 'string | undefined'.\n  Overload 2 of 2, '(values: { bookingId: number | SQL<unknown> | Placeholder<string, any>; contractNumber: string | SQL<unknown> | Placeholder<string, any>; contractData: Record<...> | SQL<...> | Placeholder<...>; ... 22 more ...; cancellationReason?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.\n    Object literal may only specify known properties, and 'contractNumber' does not exist in type '{ bookingId: number | SQL<unknown> | Placeholder<string, any>; contractNumber: string | SQL<unknown> | Placeholder<string, any>; contractData: Record<string, any> | SQL<...> | Placeholder<...>; ... 22 more ...; cancellationReason?: string | ... 3 more ... | undefined; }[]'.\nserver/storage.ts(1934,12): error TS2345: Argument of type '{ updatedAt: Date; bookingId?: number | undefined; contractNumber?: string | undefined; contractData?: { [x: string]: [any, ...any[]]; } | undefined; status?: string | undefined; renterSignedAt?: Date | ... 1 more ... | undefined; ... 17 more ...; cancellationReason?: string | ... 1 more ... | undefined; }' is not assignable to parameter of type '{ bookingId?: number | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; contractNumber?: string | SQL<...> | PgColumn<...> | undefined; ... 23 more ...; cancellationReason?: string | ... 3 more ... | undefined; }'.\n  Types of property 'renterSignatureEvidence' are incompatible.\n    Type '{ userAgent: string; ip: string; timestamp: string; location?: unknown; } | null | undefined' is not assignable to type 'SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | { ip: string; userAgent: string; timestamp: string; location?: string | undefined; } | null | undefined'.\n      Type '{ userAgent: string; ip: string; timestamp: string; location?: unknown; }' is not assignable to type 'SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | { ip: string; userAgent: string; timestamp: string; location?: string | undefined; } | null | undefined'.\n        Type '{ userAgent: string; ip: string; timestamp: string; location?: unknown; }' is not assignable to type '{ ip: string; userAgent: string; timestamp: string; location?: string | undefined; }'.\n          Types of property 'location' are incompatible.\n            Type 'unknown' is not assignable to type 'string | undefined'.\nserver/storage.ts(1947,9): error TS2393: Duplicate function implementation.\nserver/storage.ts(1955,9): error TS2393: Duplicate function implementation.\nserver/storage.ts(2025,21): error TS2339: Property 'where' does not exist on type 'Omit<PgSelectBase<\"saved_vehicles\", Record<\"saved_vehicles\", { id: PgColumn<{ name: \"id\"; tableName: \"saved_vehicles\"; dataType: \"number\"; columnType: \"PgSerial\"; data: number; driverParam: number; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 8 more ...; updatedAt: PgColumn<...>; }> & Record<...'.\nserver/storage.ts(2075,5): error TS2322: Type '(string | null)[]' is not assignable to type 'string[]'.\n  Type 'string | null' is not assignable to type 'string'.\n    Type 'null' is not assignable to type 'string'.\nserver/storage.ts(2170,11): error TS18047: 'coupon.usedCount' is possibly 'null'.\nserver/storage.ts(2170,31): error TS18047: 'coupon.maxUses' is possibly 'null'.\nserver/storage.ts(2208,20): error TS18047: 'coupon.usedCount' is possibly 'null'.\nshared/coupon-schema.ts(83,25): error TS18047: 'coupon.usedCount' is possibly 'null'.\nshared/schema-backup.ts(476,11): error TS2769: No overload matches this call.\n  Overload 1 of 2, '(check: (arg: { location: string; category: string; transmission: string; fuel: string; brand: string; model: string; year: number; seats: number; pricePerDay: string; ownerId: number; color?: string | null | undefined; ... 10 more ...; totalBookings?: number | ... 1 more ... | undefined; }) => arg is { ...; }, message?: string | ... 2 more ... | undefined): ZodEffects<...>', gave the following error.\n    Argument of type 'ZodEffects<ZodObject<{ brand: ZodEffects<ZodEffects<ZodEffects<ZodString, string, string>, string, string>, string, string>; model: ZodEffects<ZodEffects<ZodEffects<ZodEffects<...>, string, string>, string, string>, string, string>; }, \"strip\", ZodTypeAny, { ...; }, { ...; }>, { ...; }, { ...; }>' is not assignable to parameter of type '(arg: { location: string; category: string; transmission: string; fuel: string; brand: string; model: string; year: number; seats: number; pricePerDay: string; ownerId: number; color?: string | null | undefined; ... 10 more ...; totalBookings?: number | ... 1 more ... | undefined; }) => arg is { ...; }'.\n      Type 'ZodEffects<ZodObject<{ brand: ZodEffects<ZodEffects<ZodEffects<ZodString, string, string>, string, string>, string, string>; model: ZodEffects<ZodEffects<ZodEffects<ZodEffects<...>, string, string>, string, string>, string, string>; }, \"strip\", ZodTypeAny, { ...; }, { ...; }>, { ...; }, { ...; }>' provides no match for the signature '(arg: { location: string; category: string; transmission: string; fuel: string; brand: string; model: string; year: number; seats: number; pricePerDay: string; ownerId: number; color?: string | null | undefined; ... 10 more ...; totalBookings?: number | ... 1 more ... | undefined; }): arg is { ...; }'.\n  Overload 2 of 2, '(check: (arg: { location: string; category: string; transmission: string; fuel: string; brand: string; model: string; year: number; seats: number; pricePerDay: string; ownerId: number; color?: string | null | undefined; ... 10 more ...; totalBookings?: number | ... 1 more ... | undefined; }) => unknown, message?: string | ... 2 more ... | undefined): ZodEffects<...>', gave the following error.\n    Argument of type 'ZodEffects<ZodObject<{ brand: ZodEffects<ZodEffects<ZodEffects<ZodString, string, string>, string, string>, string, string>; model: ZodEffects<ZodEffects<ZodEffects<ZodEffects<...>, string, string>, string, string>, string, string>; }, \"strip\", ZodTypeAny, { ...; }, { ...; }>, { ...; }, { ...; }>' is not assignable to parameter of type '(arg: { location: string; category: string; transmission: string; fuel: string; brand: string; model: string; year: number; seats: number; pricePerDay: string; ownerId: number; color?: string | null | undefined; ... 10 more ...; totalBookings?: number | ... 1 more ... | undefined; }) => unknown'.\n      Type 'ZodEffects<ZodObject<{ brand: ZodEffects<ZodEffects<ZodEffects<ZodString, string, string>, string, string>, string, string>; model: ZodEffects<ZodEffects<ZodEffects<ZodEffects<...>, string, string>, string, string>, string, string>; }, \"strip\", ZodTypeAny, { ...; }, { ...; }>, { ...; }, { ...; }>' provides no match for the signature '(arg: { location: string; category: string; transmission: string; fuel: string; brand: string; model: string; year: number; seats: number; pricePerDay: string; ownerId: number; color?: string | null | undefined; ... 10 more ...; totalBookings?: number | ... 1 more ... | undefined; }): unknown'.\nshared/schema-backup.ts(543,13): error TS2300: Duplicate identifier 'User'.\nshared/schema-backup.ts(544,13): error TS2300: Duplicate identifier 'InsertUser'.\nshared/schema-backup.ts(545,13): error TS2300: Duplicate identifier 'Vehicle'.\nshared/schema-backup.ts(546,13): error TS2300: Duplicate identifier 'InsertVehicle'.\nshared/schema-backup.ts(547,13): error TS2300: Duplicate identifier 'Booking'.\nshared/schema-backup.ts(548,13): error TS2300: Duplicate identifier 'InsertBooking'.\nshared/schema-backup.ts(549,13): error TS2300: Duplicate identifier 'Review'.\nshared/schema-backup.ts(550,13): error TS2300: Duplicate identifier 'InsertReview'.\nshared/schema-backup.ts(551,13): error TS2300: Duplicate identifier 'Message'.\nshared/schema-backup.ts(552,13): error TS2300: Duplicate identifier 'InsertMessage'.\nshared/schema-backup.ts(553,13): error TS2300: Duplicate identifier 'Contract'.\nshared/schema-backup.ts(554,13): error TS2300: Duplicate identifier 'InsertContract'.\nshared/schema-backup.ts(555,13): error TS2300: Duplicate identifier 'ContractTemplate'.\nshared/schema-backup.ts(556,13): error TS2300: Duplicate identifier 'InsertContractTemplate'.\nshared/schema-backup.ts(557,13): error TS2300: Duplicate identifier 'ContractAuditLog'.\nshared/schema-backup.ts(558,13): error TS2300: Duplicate identifier 'InsertContractAuditLog'.\nshared/schema-backup.ts(559,13): error TS2300: Duplicate identifier 'VehicleBrand'.\nshared/schema-backup.ts(560,13): error TS2300: Duplicate identifier 'InsertVehicleBrand'.\nshared/schema-backup.ts(588,13): error TS2300: Duplicate identifier 'User'.\nshared/schema-backup.ts(589,13): error TS2300: Duplicate identifier 'InsertUser'.\nshared/schema-backup.ts(590,13): error TS2300: Duplicate identifier 'Vehicle'.\nshared/schema-backup.ts(591,13): error TS2300: Duplicate identifier 'InsertVehicle'.\nshared/schema-backup.ts(592,13): error TS2300: Duplicate identifier 'Booking'.\nshared/schema-backup.ts(593,13): error TS2300: Duplicate identifier 'InsertBooking'.\nshared/schema-backup.ts(594,13): error TS2300: Duplicate identifier 'Review'.\nshared/schema-backup.ts(595,13): error TS2300: Duplicate identifier 'InsertReview'.\nshared/schema-backup.ts(596,13): error TS2300: Duplicate identifier 'Message'.\nshared/schema-backup.ts(597,13): error TS2300: Duplicate identifier 'InsertMessage'.\nshared/schema-backup.ts(598,13): error TS2300: Duplicate identifier 'Contract'.\nshared/schema-backup.ts(599,13): error TS2300: Duplicate identifier 'InsertContract'.\nshared/schema-backup.ts(600,13): error TS2300: Duplicate identifier 'ContractTemplate'.\nshared/schema-backup.ts(601,13): error TS2300: Duplicate identifier 'InsertContractTemplate'.\nshared/schema-backup.ts(602,13): error TS2300: Duplicate identifier 'ContractAuditLog'.\nshared/schema-backup.ts(603,13): error TS2300: Duplicate identifier 'InsertContractAuditLog'.\nshared/schema-backup.ts(604,13): error TS2300: Duplicate identifier 'VehicleBrand'.\nshared/schema-backup.ts(605,13): error TS2300: Duplicate identifier 'InsertVehicleBrand'.\nshared/schema-backup.ts(615,67): error TS2304: Cannot find name 'vehicleAvailability'.\nshared/schema-backup.ts(620,60): error TS2304: Cannot find name 'waitingQueue'.\nshared/schema-backup.ts(625,42): error TS2304: Cannot find name 'vehicleAvailability'.\nshared/schema-backup.ts(627,35): error TS2304: Cannot find name 'waitingQueue'.\n"
    },
    "tests": null,
    "coverage": null
  },
  "environment": {
    "nodeVersion": "v20.19.3",
    "platform": "linux",
    "arch": "x64"
  }
}